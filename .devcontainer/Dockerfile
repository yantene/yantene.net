FROM mcr.microsoft.com/devcontainers/base:1-bookworm

RUN apt-get update && \
    export DEBIAN_FRONTEND=noninteractive && \
    apt-get -y install --no-install-recommends \
    fish \
    nodejs \
    chromium \
    fonts-noto-cjk-extra \
    fonts-noto-color-emoji

# Install asdf
RUN curl -L 'https://github.com/asdf-vm/asdf/releases/download/v0.16.0/asdf-v0.16.0-linux-amd64.tar.gz' | tar -xz -C /usr/local/bin && \
    mkdir -p /home/vscode/.config/fish/conf.d && \
    curl -L 'https://raw.githubusercontent.com/asdf-vm/asdf/refs/tags/v0.16.0/asdf.fish' > /home/vscode/.config/fish/conf.d/asdf.fish && \
    chown -R vscode:vscode /home/vscode/.config
